<div class="login-container">
  <mat-card class="login-card">

    <a class="back-link" routerLink="/login">
      <mat-icon>arrow_back</mat-icon>
      {{ 'REGISTER.BACK' | translate }}
    </a>
    
    <h1 class="title">{{ 'REGISTER.TITLE' | translate }}</h1>

    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'REGISTER.FIRST_NAME_LABEL' | translate }}</mat-label>
        <input
          matInput
          formControlName="firstName"
          placeholder="{{ 'REGISTER.FIRST_NAME_LABEL' | translate }}"
          required
        />
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'REGISTER.LAST_NAME_LABEL' | translate }}</mat-label>
        <input
          matInput
          formControlName="lastName"
          placeholder="{{ 'REGISTER.LAST_NAME_LABEL' | translate }}"
          required
        />
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'REGISTER.EMAIL_LABEL' | translate }}</mat-label>
        <input
          matInput
          type="email"
          formControlName="email"
          placeholder="{{ 'REGISTER.EMAIL_LABEL' | translate }}"
          required
        />
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'REGISTER.PHONE_LABEL' | translate }}</mat-label>
        <input
          matInput
          type="text"
          mask="(00) 00000-0000"
          formControlName="phoneNumber"
          placeholder="{{ 'REGISTER.PHONE_LABEL' | translate }}"
          required
          maxlength="15"
        />
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'REGISTER.GENDER_LABEL' | translate }}</mat-label>
        <mat-select formControlName="gender">
          <mat-option value="MALE">
            {{ 'REGISTER.GENDER_MALE' | translate }}
          </mat-option>
          <mat-option value="FEMALE">
            {{ 'REGISTER.GENDER_FEMALE' | translate }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'REGISTER.PASSWORD_LABEL' | translate }}</mat-label>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password"
          placeholder="{{ 'REGISTER.PASSWORD_LABEL' | translate }}"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hidePassword = !hidePassword"
          type="button"
          [attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'"
        >
          <mat-icon>
            {{ hidePassword ? 'visibility_off' : 'visibility' }}
          </mat-icon>
        </button>
      </mat-form-field>

      <div class="links-container">
        <a class="link" routerLink="/login">
          {{ 'REGISTER.ALREADY_HAVE' | translate }}
        </a>
      </div>

      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!registerForm.valid"
        [ngClass]="{
          'login-button': registerForm.valid,
          'login-button-disabled': !registerForm.valid
        }"
      >
        {{ 'REGISTER.SUBMIT' | translate }}
      </button>
    </form>
  </mat-card>
</div>

<div class="overlay" *ngIf="loading">
    <mat-progress-spinner
    mode="indeterminate"
    diameter="60"
    [attr.aria-label]="'OVERLAY.LOADING' | translate"
  >
  </mat-progress-spinner>


</div>

