<div class="login-container">
  <mat-card class="login-card">
    <h1 class="title">{{ 'RESET.TITLE' | translate }}</h1>

    <form [formGroup]="resetForm" (ngSubmit)="onResetPassword()">
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'RESET.EMAIL_LABEL' | translate }}</mat-label>
        <input
          matInput
          type="email"
          formControlName="email"
          [readonly]="true"
        />
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'RESET.NEW_PASSWORD_LABEL' | translate }}</mat-label>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="password"
          placeholder="{{ 'RESET.NEW_PASSWORD_PLACEHOLDER' | translate }}"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hidePassword = !hidePassword"
          type="button"
          [attr.aria-label]="
            hidePassword
              ? ('RESET.SHOW_PASSWORD' | translate)
              : ('RESET.HIDE_PASSWORD' | translate)
          "
        >
          <mat-icon>
            {{ hidePassword ? 'visibility_off' : 'visibility' }}
          </mat-icon>
        </button>
      </mat-form-field>

      <mat-form-field class="full-width" appearance="outline">
        <mat-label>{{ 'RESET.CONFIRM_PASSWORD_LABEL' | translate }}</mat-label>
        <input
          matInput
          [type]="hidePassword ? 'password' : 'text'"
          formControlName="confirmPassword"
          placeholder="{{ 'RESET.CONFIRM_PASSWORD_PLACEHOLDER' | translate }}"
        />
      </mat-form-field>

      <div class="links-container">
        <a class="link" routerLink="/login">
          {{ 'RESET.BACK' | translate }}
        </a>
      </div>

      <button
        mat-raised-button
        color="primary"
        class="login-button"
        type="submit"
      >
        {{ 'RESET.SUBMIT' | translate }}
      </button>
    </form>
  </mat-card>
</div>

<div class="overlay" *ngIf="loading">
  <mat-progress-spinner
    mode="indeterminate"
    diameter="60"
    [attr.aria-label]="'RESET.LOADING' | translate"
  >
  </mat-progress-spinner>
</div>
